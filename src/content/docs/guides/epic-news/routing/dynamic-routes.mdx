---
title: Dynamic routes and loader functions in Remix
description: Learn how to use route params to create dynamic routes in Remix, and access their values using loader functions.
---

import MonsterVideo from "src/components/MonsterVideo.astro"

With the changes we have made in the previous lesson, we have a news category page set up, but the content is always the same:

![Single dynamic route](src/assets/gif/single-dynamic-route.gif)

When we click each link, the URL changes in the browser's address bar, but the content in the window remains the same.

Why?

## Route params

The `$` sign in the file name `news/$category.tsx` is actually a special character that tells Remix that this route is ***dynamic***.

It means that the route can match any base URL that starts with `/news/`, but then will have a unique value for `category`.

So, for example, if we visited the URL:

```bash mark="business"
http://localhost:3000/news/business
```

...the `$category` value would be the string "`business`".

However, if we visited

```bash mark="reviews"
http://localhost:3000/news/reviews
```

...the `$category` value would then be the string "`reviews`", and so on.

:::note[Deep Dive]

### Why use route params?

Route params provide an easy way to pass values to a route.

They are essentially variables that can represent different a value for each URL that matches a particular base route.

In Remix, when we add a `$` to a route filename, anything before the `$` can be thought of as the parent route, and anything immediately after it is a **route parameter**.

:::

At the moment, we are not doing anything with the `category` value. We need to update our `news/$category.tsx` file to read the `category` value from the URL and use it to display the correct data.

In our case, the reason why we see the same content for each category is because we are not yet reading the `category` value from the URL.

Let's fix that.

## Reading route params with the `loader` function

To read the `category` value from the URL, we need to add something called a `loader` function to our `news/$category.tsx` file.

But what is a `loader` function?

::::note[Info]

## What is a `loader` function?

### Client vs. server code

Traditionally, React code is only ever executed inside the user's browser.

The user's browser is known as the **client** in web development terms.

This is great for building exciting user interfaces, but the problem is that many crucial website actions, such as loading database information or accessing route parameters, can only be done on the **server**.

The makers of Remix got around this problem by introducing the concept of `loader` functions:

```tsx
export async function loader({ params }: LoaderFunctionArgs) {
	// Server-side code here...
}
```

### Accessing server data with `loader` functions

Code placed inside a Remix `loader` function is executed only on the **server**.

There are two rules to remember when creating a `loader` function:

1. The `loader` function needs to be placed inside a **route** file (i.e. a `tsx` file inside the `routes` folder)

2. It should prefixed with the `export` keyword so that Remix can access it.

		```tsx mark="export "
		export async function loader({ params }: LoaderFunctionArgs) {
			// Server-side code here...
		}
		```

Crucially, Remix will then execute this code on the server _**before**_ the user interface (UI) is rendered. This ensures that any required data is accessed and processed before the UI is presented by the browser.

:::tip

You'll notice the `loader` function can be passed a `request` object as an argument:

```tsx "{ request }"
export async function loader({ request }: LoaderFunctionArgs) {
  // ... more code here...
}
```

This `request` object carries crucial information about the incoming request to the server, such as the URL the user is trying to access, any search parameters they've included, headers, and more.

Think of it as a toolbox that the `loader` function uses to understand exactly what the user is asking for.
:::

You can learn more about `loader` functions below:

<MonsterVideo src="https://www.youtube.com/embed/NXqEP_PsPNc?si=_mUaoXuvBJs6Enoe" />

More info is available in the [**Remix docs**](https://remix.run/docs/en/main/route/loader).

::::

At first, let's just log the `category` value out to the console and see what it looks like.

Carefully add the following code to your `news/$category.tsx` file:

```diff lang="tsx" title="app/routes/news.$category.tsx"
+import { type LoaderFunctionArgs, json } from '@remix-run/node'
+
+export async function loader({ params }: LoaderFunctionArgs) {
+	const { category } = params
+
+	console.log({ category })
+
+	return json({})
+}

export default function NewsCategoryPage() {
	return (
		<div className="container py-16">
			<h2 className="text-h2">Generic news category page</h2>
		</div>
	)
}
```

Head back to your browser and click the links between the different news categories.

Now check your VS Code terminal. You should see the `category` value logged out each time you click a link:

![Logging route params](src/assets/png/logging-route-params.png)

This is great!

We are loading the dynamic `category` value directly from the URL and logging it to the console.

In the next step, we will do something more useful with this value. We will pass it to our `NewsCategoryPage` component and display it on the page.

## Summary

In this step, we have:

- Deleted our hard-coded static child routes and replaced them with a single dynamic route.
- Learned about route params and how they can be used to create dynamic routes in Remix.
- Added a `loader` function to our dynamic route to read the `category` value from the URL.
- Logged the `category` value to the console to see what it looks like.

## What's next?

In the next step, we will pass the `category` value to our `NewsCategoryPage` component with Remix's `useLoaderData` hook, and display it on the page.
